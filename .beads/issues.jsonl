{"id":"family-budget-2go","title":"Update expense UI - add quarterly and semi-annual radio buttons","description":"Modify templates/expenses.html:\n\n**Current state:** 2 radio buttons (Månedlig, Årlig)\n**New state:** 4 radio buttons (Månedlig, Kvartalsvis, Halvårlig, Årlig)\n\n**Changes needed:**\n1. Add radio buttons for 'quarterly' and 'semi-annual' frequencies\n2. Update frequency display text mapping\n3. Labels in Danish: Månedlig, Kvartalsvis, Halvårlig, Årlig\n4. Values: monthly, quarterly, semi-annual, yearly","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:17.5679902+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:37:41.4531511+01:00","closed_at":"2026-01-08T21:37:41.4531511+01:00"}
{"id":"family-budget-4m6","title":"Update database schema - add quarterly and semi-annual frequencies to expenses CHECK constraint","description":"Modify src/database.py to extend the frequency CHECK constraint to include 'quarterly' and 'semi-annual' values.\n\n**Current constraint:**\nCHECK(frequency IN ('monthly', 'yearly'))\n\n**New constraint:**\nCHECK(frequency IN ('monthly', 'quarterly', 'semi-annual', 'yearly'))\n\n**Also update:**\n- Expense dataclass monthly_amount property with new divisors\n- Conversion logic: quarterly ÷ 3, semi-annual ÷ 6","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T21:09:53.4619136+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:33:47.207075+01:00","closed_at":"2026-01-08T21:33:47.207075+01:00"}
{"id":"family-budget-99v","title":"Update API form handling for new frequencies","description":"Modify src/api.py:\n\n**Changes needed:**\n1. Update expense form validation to accept 'quarterly' and 'semi-annual'\n2. Update income CRUD to handle frequency parameter\n3. Add frequency validation for income endpoints\n4. Ensure frequency is passed through to database operations\n\n**Endpoints affected:**\n- POST /budget/expenses (add/edit expense)\n- POST /budget/income (add/edit income source)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:32.4190451+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:10:32.4190451+01:00"}
{"id":"family-budget-bxc","title":"Update DemoStateManager for new frequencies","description":"Update templates/base.html DemoStateManager:\n\n**1. Update DEFAULT_DATA.income structure:**\nAdd frequency field to income items:\n\\\n**2. Update getTotalExpenses() calculation:**\n\\\n**3. Update getCategoryTotals() calculation:**\nSame divisor logic as getTotalExpenses()\n\n**4. Update setIncome() to preserve frequency:**\nInclude frequency when saving income items\n\n**5. Add demo expenses with new frequencies:**\n- Add quarterly expense example\n- Add semi-annual expense example\n\n**Context:** PR #11 added DemoStateManager but only supports monthly/yearly frequencies.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T21:17:32.7696837+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:17:32.7696837+01:00"}
{"id":"family-budget-csc","title":"Add tests for new frequency calculations","description":"Update test files:\n\n**tests/test_database.py:**\n- Test monthly_amount property with quarterly (÷3)\n- Test monthly_amount property with semi-annual (÷6)\n- Test income frequency calculations\n- Test default frequency handling\n\n**tests/test_api.py:**\n- Test expense form with quarterly frequency\n- Test expense form with semi-annual frequency\n- Test income form with frequency parameter\n- Test validation of invalid frequencies","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:41.0109231+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:10:41.0109231+01:00"}
{"id":"family-budget-jib","title":"Add frequency selection to income UI","description":"Modify templates/income.html:\n\n**Current state:** No frequency selection (assumes monthly)\n**New state:** Add frequency dropdown/radio buttons\n\n**Changes needed:**\n1. Add frequency selection control (radio buttons or dropdown)\n2. Show monthly equivalent for non-monthly income\n3. Options: Månedlig, Kvartalsvis, Halvårlig, Årlig\n4. Update income form submission to include frequency\n5. Display calculated monthly amount in income overview","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:24.3441867+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:39:40.2545803+01:00","closed_at":"2026-01-08T21:39:40.2545803+01:00"}
{"id":"family-budget-s0s","title":"Update demo data with frequency examples","description":"Update demo data in src/database.py:\n\n**Add examples showing new frequencies:**\n- Add quarterly expense example (e.g., forsikring betalt kvartalsvis)\n- Add semi-annual expense example (e.g., licenser betalt halvårligt)\n- Add non-monthly income example (e.g., bonus halvårlig)\n\n**Purpose:** \nUsers can see how the new frequency options work in demo mode","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:59.1416236+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:10:59.1416236+01:00"}
{"id":"family-budget-tnn","title":"Add income frequency support - extend Income dataclass and schema","description":"Modify src/database.py to add frequency support to income:\n\n**Income dataclass changes:**\n- Add `frequency: str` field (default 'monthly')\n- Add `monthly_amount` property with same divisor logic as expenses\n\n**Schema changes:**\n```sql\nALTER TABLE income ADD COLUMN frequency TEXT NOT NULL DEFAULT 'monthly' \n  CHECK(frequency IN ('monthly', 'quarterly', 'semi-annual', 'yearly'))\n```\n\n**SQL calculations for totals:**\n```sql\nCASE \n    WHEN frequency = 'quarterly' THEN amount / 3\n    WHEN frequency = 'semi-annual' THEN amount / 6\n    WHEN frequency = 'yearly' THEN amount / 12\n    ELSE amount \nEND\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:09.4517614+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:36:25.5542743+01:00","closed_at":"2026-01-08T21:36:25.5542743+01:00"}
{"id":"family-budget-yae","title":"Create database migration script","description":"Create migration script for existing databases:\n\n**For income table:**\n```sql\nALTER TABLE income ADD COLUMN frequency TEXT DEFAULT 'monthly';\n```\n\n**For expenses table:**\nSQLite requires table recreation to change CHECK constraint:\n1. Create temp table with new constraint\n2. Copy data\n3. Drop old table\n4. Rename temp to expenses\n\n**Note:** Migration should be idempotent (safe to run multiple times)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-08T21:10:49.453542+01:00","created_by":"Saabendtsen","updated_at":"2026-01-08T21:10:49.453542+01:00"}
