services:
  family-budget:
    build: .
    container_name: family-budget
    restart: unless-stopped
    ports:
      - "8086:8086"
    volumes:
      # Persist database outside container
      - ./data:/app/data
    environment:
      - TZ=Europe/Copenhagen
      - PYTHONUNBUFFERED=1
      - APP_VERSION=${APP_VERSION}
      - GITHUB_TOKEN=${GITHUB_TOKEN}
      - GITHUB_REPO=saabendtsen/family-budget
      # SMTP via host Postfix relay
      - SMTP_HOST=172.17.0.1
      - SMTP_PORT=25
      - SMTP_FROM=noreply@wibholmsolutions.com
